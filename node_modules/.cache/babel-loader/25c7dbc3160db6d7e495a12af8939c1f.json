{"remainingRequest":"/home/danil/Work/vue-material-dashboard-pro-v1.3.0/node_modules/babel-loader/lib/index.js!/home/danil/Work/vue-material-dashboard-pro-v1.3.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/danil/Work/vue-material-dashboard-pro-v1.3.0/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/danil/Work/vue-material-dashboard-pro-v1.3.0/src/pages/Dashboard/Maps/Moscow.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/danil/Work/vue-material-dashboard-pro-v1.3.0/src/pages/Dashboard/Maps/Moscow.vue","mtime":1561379226931},{"path":"/home/danil/Work/vue-material-dashboard-pro-v1.3.0/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/danil/Work/vue-material-dashboard-pro-v1.3.0/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/danil/Work/vue-material-dashboard-pro-v1.3.0/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/danil/Work/vue-material-dashboard-pro-v1.3.0/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/danil/Work/vue-material-dashboard-pro-v1.3.0/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport { yandexMap, ymapMarker } from 'vue-yandex-maps';\nexport default {\n  components: {\n    yandexMap: yandexMap,\n    ymapMarker: ymapMarker\n  },\n  data: function data() {\n    return {\n      showMap: false,\n      settings: {\n        apiKey: '0184cc26-ee3a-4ecf-b275-38a508670105',\n        lang: 'ru_RU',\n        version: '2.1'\n      },\n      museums: []\n    };\n  },\n  methods: {\n    loadMuseums: function () {\n      var _loadMuseums = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var responce;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return axios.get(\"https://search-maps.yandex.ru/v1/\", {\n                  params: {\n                    \"apikey\": \"2a8c3c2a-da28-4fc0-806d-0e91b034b8d6\",\n                    \"text\": \"музеи\",\n                    \"type\": \"biz\",\n                    \"lang\": \"ru_RU\",\n                    \"ll\": \"37.62335600000006,55.75645\",\n                    // 55.756802, 37.622720\n                    \"spn\": \"0.03,0.03\",\n                    \"results\": \"30\",\n                    \"rspn\": \"true\"\n                  }\n                });\n\n              case 3:\n                responce = _context.sent;\n                this.museums = responce.data.features;\n                _context.next = 11;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0);\n                alert(\"Не удалось \");\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 7]]);\n      }));\n\n      function loadMuseums() {\n        return _loadMuseums.apply(this, arguments);\n      }\n\n      return loadMuseums;\n    }(),\n    initHandler: function initHandler() {}\n  },\n  created: function created() {\n    this.loadMuseums();\n  }\n};",{"version":3,"sources":["Moscow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,SAAA,EAAA,UAAA,QAAA,iBAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA,SADA;AAEA,IAAA,UAAA,EAAA;AAFA,GADA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,QAAA,EAAA;AACA,QAAA,MAAA,EAAA,sCADA;AAEA,QAAA,IAAA,EAAA,OAFA;AAGA,QAAA,OAAA,EAAA;AAHA,OAFA;AAOA,MAAA,OAAA,EAAA;AAPA,KAAA;AASA,GAfA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAGA,KAAA,CAAA,GAAA,CAAA,mCAAA,EAAA;AACA,kBAAA,MAAA,EAAA;AACA,8BAAA,sCADA;AAEA,4BAAA,OAFA;AAGA,4BAAA,KAHA;AAIA,4BAAA,OAJA;AAKA,0BAAA,4BALA;AAKA;AACA,2BAAA,WANA;AAOA,+BAAA,IAPA;AAQA,4BAAA;AARA;AADA,iBAAA,CAHA;;AAAA;AAGA,gBAAA,QAHA;AAgBA,qBAAA,OAAA,GAAA,QAAA,CAAA,IAAA,CAAA,QAAA;AAhBA;AAAA;;AAAA;AAAA;AAAA;AAkBA,gBAAA,OAAA,CAAA,GAAA;AACA,gBAAA,KAAA,CAAA,aAAA,CAAA;;AAnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAsBA,IAAA,WAtBA,yBAsBA,CAEA;AAxBA,GAjBA;AA4CA,EAAA,OA5CA,qBA4CA;AACA,SAAA,WAAA;AACA;AA9CA,CAAA","sourcesContent":["<template>\n  <div class=\"map-wrapper\">\n    <h2>Музеи Москвы</h2>\n    <ul class=\"tabs\">\n      <li><a href=\"#\" @click.prevent=\"showMap = false\">Список</a></li>\n      <li><a href=\"#\" @click.prevent=\"showMap = true\">Показать на карте</a></li>\n    </ul>\n\n    <ul class=\"museum-list\" v-if=\"!showMap\">\n      <li \n        v-for=\"(museum, index) in museums\"\n        :key=\"index\"\n      >\n        <span>{{museum.properties.name}}</span> - {{museum.properties.description}}\n      </li>\n    </ul>\n    <yandex-map v-else\n      :settings=\"settings\"\n      :coords=\"[55.756802, 37.622720]\"\n      zoom=\"10\"\n      style=\"width: 100%; height: 600px;\"\n      :controls=\"['trafficControl', 'fullscreenControl', 'typeSelector', 'zoomControl']\"\n      @map-was-initialized=\"initHandler\">\n\n        <ymap-marker\n          v-for=\"(museum, index) in museums\"\n          :key=\"index\"\n          :coords=\"museum.geometries[0].coordinates.reverse()\"\n\n\n          marker-id=\"1\"\n          marker-type=\"placemark\"\n          \n          hint-content=\"Hint content 1\"\n          :balloon=\"{header: museum.properties.name, body: museum.properties.description}\"\n          cluster-name=\"1\"\n        ></ymap-marker>\n\n    </yandex-map>\n  </div>\n</template>\n\n<script>\n  import axios from 'axios';\n  import { yandexMap, ymapMarker } from 'vue-yandex-maps'\n\n  export default {\n    components: {\n      yandexMap,\n      ymapMarker\n    },\n    data() {\n      return {\n        showMap: false,\n        settings: {\n          apiKey: '0184cc26-ee3a-4ecf-b275-38a508670105',\n          lang: 'ru_RU',\n          version: '2.1'\n        },\n        museums: []\n      }\n    },\n\n    methods: {\n      async loadMuseums() {\n        try {\n          let responce = await axios.get(\"https://search-maps.yandex.ru/v1/\", {\n            params: {\n              \"apikey\": \"2a8c3c2a-da28-4fc0-806d-0e91b034b8d6\",\n              \"text\": \"музеи\",\n              \"type\": \"biz\",\n              \"lang\": \"ru_RU\",\n              \"ll\": \"37.62335600000006,55.75645\",   // 55.756802, 37.622720\n              \"spn\": \"0.03,0.03\",\n              \"results\": \"30\",\n              \"rspn\": \"true\"\n            }\n          });\n\n          this.museums = responce.data.features;\n        } catch(e) {\n          console.log(e);\n          alert(\"Не удалось \")\n        }\n      },\n      initHandler() {\n\n      }\n      \n    },\n    created() {\n      this.loadMuseums();\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  h2 {\n    margin-top: 0;\n    font-weight: 700;\n  }\n  .tabs {\n    display: flex;\n    padding-left: 0;\n    list-style: none;\n    li {\n      margin-right: 10px;\n      a {\n        &:hover, &:focus {\n          font-weight: 700;\n        }\n      }\n    }  \n  }\n  .museum-list {\n    padding-left: 0;\n    list-style: none;\n    li {\n      border: 1px solid lightgrey;\n      padding: 10px 5px;\n      span {\n        font-weight: 700;\n        \n      }\n    }\n  }\n</style>\n\n"],"sourceRoot":"src/pages/Dashboard/Maps"}]}